CREATE DATABASE IF NOT EXISTS empresa
  DEFAULT CHARACTER SET utf8mb4
  DEFAULT COLLATE utf8mb4_unicode_ci;

USE empresa;

-- =========================
-- Tabla: Departamento
-- =========================
CREATE TABLE Departamento (
    idDepartamento INT AUTO_INCREMENT PRIMARY KEY,
    nombreDepartamento VARCHAR(50) NOT NULL,
    descripcionDepartamento TEXT
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;

-- =========================
-- Tabla: Empleados
-- =========================
CREATE TABLE Empleados (
    idEmpleado INT AUTO_INCREMENT PRIMARY KEY,
    numeroDui VARCHAR(9) NOT NULL UNIQUE,
    nombrePersona VARCHAR(50) NOT NULL,
    usuario VARCHAR(50) NOT NULL UNIQUE,
    numeroTelefono VARCHAR(9),
    correoInstitucional VARCHAR(50) NOT NULL UNIQUE,
    fechaNacimiento DATE
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;

-- =========================
-- Tabla: Cargos
-- =========================
CREATE TABLE Cargos (
    idCargo INT AUTO_INCREMENT PRIMARY KEY,
    cargo VARCHAR(50) NOT NULL,
    descripcionCargo TEXT,
    jefatura BOOLEAN NOT NULL DEFAULT FALSE
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;

-- =========================
-- Tabla: TipoContratacion
-- =========================
CREATE TABLE TipoContratacion (
    idTipoContratacion INT AUTO_INCREMENT PRIMARY KEY,
    tipoContratacion VARCHAR(100) NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;

-- =========================
-- Tabla: Contrataciones
-- =========================
CREATE TABLE Contrataciones (
    idContratacion INT AUTO_INCREMENT PRIMARY KEY,
    idDepartamento INT NOT NULL,
    idEmpleado INT NOT NULL,
    idCargo INT NOT NULL,
    idTipoContratacion INT NOT NULL,
    fechaContratacion DATE NOT NULL,
    salario DECIMAL(10,2) UNSIGNED NOT NULL,
    estado BOOLEAN NOT NULL DEFAULT TRUE,
    CONSTRAINT fk_contrataciones_departamento
        FOREIGN KEY (idDepartamento) REFERENCES Departamento(idDepartamento)
        ON DELETE CASCADE
        ON UPDATE CASCADE,
    CONSTRAINT fk_contrataciones_empleado
        FOREIGN KEY (idEmpleado) REFERENCES Empleados(idEmpleado)
        ON DELETE CASCADE
        ON UPDATE CASCADE,
    CONSTRAINT fk_contrataciones_cargo
        FOREIGN KEY (idCargo) REFERENCES Cargos(idCargo)
        ON DELETE CASCADE
        ON UPDATE CASCADE,
    CONSTRAINT fk_contrataciones_tipocontratacion
        FOREIGN KEY (idTipoContratacion) REFERENCES TipoContratacion(idTipoContratacion)
        ON DELETE CASCADE
        ON UPDATE CASCADE
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;